{
  "schema_version": "gatekeeper-artifact-v1.0",
  "timestamp": "2026-01-28T20:29:35.730419+00:00",
  "filepath": "/Users/frank/projects/claude-code-judge/usage_meter.py",
  "mode": "repair-dry-run",
  "profile": "strict",
  "summary": {
    "initial_failure_count": 2,
    "final_failure_count": 0,
    "iterations_used": 1,
    "repair_confidence": 1.0,
    "improved": true,
    "fully_repaired": true
  },
  "failures": {
    "initial": [
      "Line 7: Function missing docstring",
      "Line 12: Function missing docstring"
    ],
    "final": []
  },
  "iterations": [
    {
      "iteration": 1,
      "failures_before": 2,
      "repairs_proposed": 2,
      "repairs": [
        {
          "line": 7,
          "old": "    def __init__(self, path: str = \"usage_log.json\"):",
          "new": "    def __init__(self, path: str = \"usage_log.json\"):\n        \"\"\"Initialize UsageMeter with log file path.\"\"\"",
          "reason": "Function missing docstring",
          "category": "docstring",
          "blocking": true
        },
        {
          "line": 12,
          "old": "    def record(self, *, model: str, engine: str, profile: str, agents: int, cache_hit: bool):",
          "new": "    def record(self, *, model: str, engine: str, profile: str, agents: int, cache_hit: bool):\n        \"\"\"Record usage entry with specified parameters.\"\"\"",
          "reason": "Function missing docstring",
          "category": "docstring",
          "blocking": true
        }
      ]
    }
  ],
  "diff": {
    "before": "import json\nfrom pathlib import Path\nfrom datetime import datetime, timezone\n\n\nclass UsageMeter:\n    def __init__(self, path: str = \"usage_log.json\"):\n        self.path = Path(path)\n        if not self.path.exists():\n            self.path.write_text(\"[]\")\n\n    def record(self, *, model: str, engine: str, profile: str, agents: int, cache_hit: bool):\n        with open(self.path, \"r\") as f:\n            data = json.load(f)\n\n        entry = {\n            \"timestamp\": datetime.now(timezone.utc).isoformat(),\n            \"model\": model,\n            \"engine\": engine,\n            \"profile\": profile,\n            \"agents\": agents,\n            \"cache_hit\": cache_hit,\n        }\n\n        data.append(entry)\n\n        with open(self.path, \"w\") as f:\n            json.dump(data, f, indent=2)\n",
    "after": "import json\nfrom pathlib import Path\nfrom datetime import datetime, timezone\n\n\nclass UsageMeter:\n    def __init__(self, path: str = \"usage_log.json\"):\n        \"\"\"Initialize UsageMeter with log file path.\"\"\"\n        self.path = Path(path)\n        if not self.path.exists():\n            self.path.write_text(\"[]\")\n\n    def record(self, *, model: str, engine: str, profile: str, agents: int, cache_hit: bool):\n        \"\"\"Record usage entry with specified parameters.\"\"\"\n        with open(self.path, \"r\") as f:\n            data = json.load(f)\n\n        entry = {\n            \"timestamp\": datetime.now(timezone.utc).isoformat(),\n            \"model\": model,\n            \"engine\": engine,\n            \"profile\": profile,\n            \"agents\": agents,\n            \"cache_hit\": cache_hit,\n        }\n\n        data.append(entry)\n\n        with open(self.path, \"w\") as f:\n            json.dump(data, f, indent=2)\n"
  },
  "metadata": {
    "gatekeeper_version": "1.0.0",
    "created_at": "2026-01-28T20:29:35.730419+00:00"
  }
}